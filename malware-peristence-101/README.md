### Compilation via MinGW

As far as compiling our examples, I use MinGW [https://www.mingw-w64.org/](https://www.mingw-w64.org/) for Linux, which is installed in my case via the following command:     

```bash
sudo apt install mingw-*
```

In most cases we use this command for compilation:    

```bash
x86_64-w64-mingw32-g++ hack.c -o hack.exe -I/usr/share/mingw-w64/include/ -s -ffunction-sections -fdata-sections -Wno-write-strings -Wint-to-pointer-cast -fno-exceptions -fmerge-all-constants -static-libstdc++ -static-libgcc -fpermissive
```

`-o hack.exe` - Specifies the output file name for the compiled executable.     

`-lws2_32` - Links the Winsock library (ws2_32.lib) which is necessary for networking operations on Windows platforms. (in case creating reverse shell)      

`-s` - Requests the compiler to strip symbol table and relocation information from the executable, reducing its size.     

`-ffunction-sections` - Tells the compiler to place each function into its own section in the output file. This flag is often used in combination with the linker flag --gc-sections to remove unused code.     

`-fdata-sections` - Similar to `-ffunction-sections`, this flag instructs the compiler to place each global variable into its own section.      

`-Wno-write-strings` - Suppresses warnings related to writing to string literals. It tells the compiler not to warn when code attempts to modify string literals, which is undefined behavior.     

`-fno-exceptions`- Disables exception handling support. This flag tells the compiler not to generate code for exception handling constructs like try-catch blocks.     

`-fmerge-all-constants` - Enables merging of identical constants. The compiler tries to merge identical constants into a single instance, reducing the size of the executable.      

`-static-libstdc++` - Links the C++ standard library statically, so that the resulting executable does not depend on a dynamic link to `libstdc++` at runtime.    

`-static-libgcc` - Links the GCC runtime library statically, ensuring that the resulting executable does not depend on a dynamic link to libgcc at runtime.      

`-fpermissive` - Relaxes some language rules to accept non-conforming code more easily. It allows the compiler to be more permissive when encountering non-standard or potentially unsafe constructs.      

In almost all the code examples in this workshop I will use these flags when compiling.      
